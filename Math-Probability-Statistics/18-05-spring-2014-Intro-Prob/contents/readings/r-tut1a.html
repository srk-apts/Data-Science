<html>
<head>
<title>18.05 R Tutorial 1A</title>
<!-- <link href="r.css" rel="stylesheet" type="text/css" media="all" />-->

<style type="text/css">
.magenta {color:magenta;}
.red {color:red;}
.green {color:green;}
.answerindent {position:relative; left:5ex;}
.head {font-weight:bold; font-size:120%;}
.prevnext {color:green;}
.comment {color:maroon}

pre.w {white-space: pre-wrap;}
pre {white-space: pre-wrap;}
div.doc {max-width:5.5in;}
</style>
</head>

<body>

<div class="doc">

<!-- <span class="prevnext">prev: none &nbsp&nbsp;
next: <a href="r-tut1b.html">random numbers</a>
</span> -->

<h2>18.05 R Tutorial 1A: Basics</h2>

<h3>Time</h3>
We estimate this tutorial (1A and 1B) will take 20-30 minutes. That includes
time for a bit of playing around with the commands.

<h3>Conventions</h3>
<span class="comment"># This is an edited transcript of a R session.
<br># We've inserted comment lines, which begin with a '#',
</span>
<p>
<i>Command lines</i> begin with a '&gt;'. You should enter everything after the '&gt;' and hit return. R's response will be in the line or lines below the command.
<p>
<b>Trick</b>: you can use the up arrow to find previous commands. 

<h3>Using a Tutorial</h3>
In order to (begin to) learn the commands you should have RStudio open and go through the tutorial line-by-line. When the tutorial shows you a command try it in RStudio. Then make up a few of your own variants and try them. If you wonder about the effect of some command, try it. The worst that will happen is R will print out an error message.

<h3>Introduction</h3>
R is a full featured statistics package as well as a full programming language. This is not a programming class so we will only ask you to issue simple commands. We will not ask you to do serious programming. Even so, you will be able to run statistical simulations and make beautiful plots of your data.

<h3>Starting R</h3>
If you've installed R and RStudio then simply start the RStudio application.
The command window is the one with the <code>&gt;</code>. It's probably the
window in the lower left.

<h3>R as a Calculator</h3>
<span class="comment"># The basic operations are *,+,-,/,^.</span>
<pre class="w">
<code>&gt; 2+3
[1] 5
&gt; 2*3
[1] 6
&gt; 2/3
[1] 0.6666667
&gt; 2^3
[1] 8
&gt; 2*(3+1)^2
[1] 32
</code>
</pre>
Don't worry for now about the <code>[1]</code>. It will play more of a role when R is printing numbers in a list.

<h3>Using Variables</h3>
<span class="comment"># You can store results in variables and use them in calculations.</span>
<pre class="w">
<code>&gt; x = 2+3
<span class="comment"># When you assign a value to a variable it does not echo the answer to the screen. You can see the value of <code>x</code> by just using <code>x</code> as a command.</span>
&gt;x
[1] 5
&gt; y = 1+2
&gt; x*y
[1] 15
&gt; z = x^y
&gt; z
[1] 125

<span class="comment"># R has another notation for assignment: the arrow: <code>&lt;-</code> . Many R programmers use this. It may seem odd to programmers coming from other languages.</span>
&gt; x <- 3
&gt; x
[1] 3
&gt; x <- 5.412
&gt; x
[1] 5.412
</code>
</pre>

<h3>Vectors</h3>
<span class="comment"># A vector is a type of list. Often it is a list of numbers, but it can be a list of other types such as characters.
<br># You create vectors by using the <code>c()</code> function.</span>
<pre class="w">
<code>
<span class="comment"># A vector with 4 entries</span>
&gt; c(1, 2, 3, 4)
[1] 1 2 3 4
<span class="comment"># You can store vectors in variables.</span>
&gt; x = c(1.1, 0.0, 3.14, 2.718)
&gt; x
[1] 1.100 0.000 3.140 2.718

<span class="comment"># Of course using the arrow instead of equal sign works here.</span>
&gt; x <- c(2,4,6)
&gt; x
[1] 2 4 6

<span class="comment"># Sequences of integers are so common that there is a shortcut for making them.</span>
&gt; 1:4
[1] 1 2 3 4
&gt; 3:10
[1]  3  4  5  6  7  8  9 10
&gt; 9:2
[1] 9 8 7 6 5 4 3 2

<span class="comment"># A long vector will be displayed over several lines. At
the start of each line in brackets is the index of the first entry on that line.</span>
&gt; x = 1:40
&gt; x
 [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 
 [15] 15 16 17 18 19 20 21 22 23 24 25 26 27 28 
 [29] 29 30 31 32 33 34 35 36 37 38 39 40
</code></pre>

<h3>Vector Arithmetic</h3>
<span class="comment"># You can add a number to a vector. This means adding
the number to every element of the vector.</span>
<code>
<pre class="w">
&gt; x = c(1,3,5)
&gt; x + 7.1
[1]  8.1 10.1 12.1

<span class="comment"># Subtraction, multiplication, division and powers work the same way.</span>
&gt; x = c(1,3,5)
&gt; 7*x
[1]  7 21 35
&gt; x/7
[1] 0.1428571 0.4285714 0.7142857
&gt; 7/x
[1] 7.000000 2.333333 1.400000
&gt; x^6
[1]     1   729 15625
&gt; x^7
[1]     1  2187 78125
&gt; 7^x
[1]     7   343 16807
</code>
</pre>
<span class="comment"># You can add, subtract, multiply and divide vectors of <i>the same size.</i> 
<br># Check that the following give the right answers.</span>
<pre class="w">
&gt; x = c(1,2,3)
&Gt; y = c(4,5,6)
&gt; x+y
[1] 5 7 9
&gt; x-y
[1] -3 -3 -3
&gt; z = x*y
&gt; z
[1]  4 10 18
&gt; z = x/y
&gt; z
[1] 0.25 0.40 0.50

<span class="comment"># You can even raise a vector to another vector of the same length</span>
&gt; x^y
[1]   1  32 729
</code>
</pre>
<h3> Accessing entries in a vector.</h3>
<pre><code><span class="comment"># Entries in vectors are found with the notation x[j]</span>
&gt; x = c(2,4,6,8,10)
&gt; x[1]
[1] 2
&gt; x[2]
[1] 4
&gt; x[3]
[1] 6
&gt; x[4]
[1] 8

<span class="comment"># R allows you to access more than one entry at a time</span>
<span class="comment"># x has 8 elements</span>
&gt; x = 2*c(1,2,3,4,5,6,7,8)
&gt; x
[1]  2  4  6  8 10 12 14 16
<span class="comment"># Notice that we have to put a vector of indices inside the brackets to access the first and second entries in x</span>
&gt; x[c(1,2)]
[1] 2 4
&gt; x[c(1,3,5)]
[1]  2  6 10
<span class="comment"># We can access the same entry multiple times.</span>
&gt; x[c(2,2,2,1)]
[1] 4 4 4 2
<span class="comment"># Using the colon method of creating vectors is useful here.</span>
&gt; x[2:5]
[1]  4  6  8 10
</code></pre>

<h3>Functions on Vectors</h3>
R has all the functions you know and love. Most of them can be used
on vectors.
<pre><code><span class="comment"># We'll start with functions numbers</span>
&gt; sin(1)
[1] 0.841471

&gt; sin(1.4)
[1] 0.9854497

&gt; sin(3)
[1] 0.14112

<span class="comment"># R knows about pi</span>
&gt; pi
[1] 3.141593

&gt; sin(pi/2)
[1] 1
&gt; sin(pi/2)

<span class="comment"># The exponential function is given by 'exp'.</span>
&gt; exp(0)
[1] 1

&gt; exp(1)
[1] 2.718282

<span class="comment"># Sin acts on vectors by taking the sin of each element.</span>
&gt; x = c(1,2,3,4)
&gt; x
[1] 1 2 3 4
&gt; sin(x)
[1]  0.8414710  0.9092974  0.1411200 -0.7568025

<span class="comment"># exp also acts on vectors.</span>
&gt; x = c(1,2,3,4)
&gt; exp(x)
[1]  2.718282  7.389056 20.085537 54.598150

<span class="comment"># In 18.05 we will use the sum and mean functions on vectors. They take the sum and average respectively of the vectors entries</span>
&gt; x = 1:6
&gt; x
[1] 1 2 3 4 5 6
&gt; sum(x)
[1] 21
&gt; mean(x)
[1] 3.5

<span class="comment"># Example: find the sum of the integers from 1 to 1024.</span>
&gt; x = 1:1024
&gt; sum(x)
[1] 524800

<span class="comment"># This can be done in one command.</span>
&gt; sum(1:1024)
[1] 524800
</code></pre>

<h3>A few more examples with powers</h3>

<code><pre><span class="comment"># Example: find the sum of the squares of the integers from 1 to 1024.</span>
&gt; x = 1:1024
&gt; sum(x^2)
[1] 358438400

<span class="comment"># This can be done in one command.</span>
&gt; sum((1:1024)^2)
[1] 358438400
</code>
</pre>

<h3>Matrices</h3>
<span class="comment"># R's method of creating matrices is a little bit clunky. It works by arranging the entries in a vector into rows and columns.</span>

<code><pre><span class="comment"># A vector of length 10 can be arranged as
a 2x5 or a 5x2 matrix</span>
<span class="comment"># Again the syntax is clunky but very clear</span>
&gt; x = 1:10
&gt; x
 [1]  1  2  3  4  5  6  7  8  9 10
&gt; y = matrix(x,nrow=2,ncol=5)
&gt; y
     [,1] [,2] [,3] [,4] [,5]
[1,]    1    3    5    7    9
[2,]    2    4    6    8   10
&gt; z = matrix(x,nrow=5,ncol=2)
&gt; z
     [,1] [,2]
[1,]    1    6
[2,]    2    7
[3,]    3    8
[4,]    4    9
[5,]    5   10

<span class="comment"># Notice in the examples above that R builds the matrices one column at a time. That is, our vector 1 to 10 runs in sequence down the columns. For 18.05 this is usually fine. 

# However the matrix() function, like most R functions, has a lot of optional parameters that allow you to control its behavior. Here's how to make it buid a matrix by rows</span>
&gt; z = matrix(x,nrow=2,ncol=5, byrow = TRUE)
&gt; z
     [,1] [,2] [,3] [,4] [,5]
[1,]    1    2    3    4    5
[2,]    6    7    8    9   10

</code></pre>
<h3>Accessing Entries in Matrices</h3>
<span class="comment"># The square bracket notation is used by giving both the row and column indices.</span>
<code><pre>
&gt; x = 1:10
&gt; y = matrix(x,nrow=2,ncol=5)
&gt; y
     [,1] [,2] [,3] [,4] [,5]
[1,]    1    3    5    7    9
[2,]    2    4    6    8   10
&gt; y[1,1]
[1] 1
&gt; y[2,3]
[1] 6
</code></pre>
<h3>Sums and Means on Matrices</h3>
<span class="comment"># Taking the sums or means of the columns (or rows) of a matrix will be very useful to us.</span>
<code><pre>
<span class="comment"># Start by creating a matrix to practice on.</span>
&gt; x = 1:10
&gt; y = matrix(x,nrow=2,ncol=5)
&gt; y
     [,1] [,2] [,3] [,4] [,5]
[1,]    1    3    5    7    9
[2,]    2    4    6    8   10

<span class="comment"># To sum each of the columns we use the colSums function. </span>
&gt; y
     [,1] [,2] [,3] [,4] [,5]
[1,]    1    3    5    7    9
[2,]    2    4    6    8   10

<span class="comment"># y has five columns so colSums(y) produces 5 numbers.</span>
&gt; colSums(y)
[1]  3  7 11 15 19

<span class="comment"># y has two rows so rowSums(y) produces 2 numbers.</span>
&gt; rowSums(y)
[1] 25 30


<span class="comment"># Likewise rowMeans(y) and colMeans(y):</span>
&gt; rowMeans(y)
[1] 5 6
&gt; colMeans(y)
[1] 1.5 3.5 5.5 7.5 9.5
</code></pre>

<h3>Getting Help</h3>
<code><pre>
<span class="comment"># R and RStudio have complete documentation on all R functions. The lower right window in RStudio has a help tab you can use. The help contains a lot of information, so you will have to learn to filter out what you don't need.

# It's often faster to ask for help from the command line using a question mark.</span>
&gt; ?mean
<span class="comment"># Try it, the result will appear in the help window.</span>
</code></pre>


<!-- 
<b>Go to part (B) of Tutorial 1: </b><a href="R-tut1b.html">random numbers.</a>
</span>
<p>
<span class="prevnext">prev: none &nbsp&nbsp;
next: <a href="R-tut1b.html">random numbers</a>
</span> -->

</div>

</body>
</html>
